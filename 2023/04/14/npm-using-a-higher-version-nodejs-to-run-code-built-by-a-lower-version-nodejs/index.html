<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.0.0-rc1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"wonderlust91.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":true,"version":"8.17.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="If you’re upgrading Node.js to version 18 and your old code repository, built using an earlier version of Node.js, is no longer running properly due to changes in the dependencies within the node_modu">
<meta property="og:type" content="article">
<meta property="og:title" content="npm - using a higher version nodejs to run code built by a lower version nodejs">
<meta property="og:url" content="http://wonderlust91.github.io/2023/04/14/npm-using-a-higher-version-nodejs-to-run-code-built-by-a-lower-version-nodejs/index.html">
<meta property="og:site_name" content="WONDER&#39;s Notes">
<meta property="og:description" content="If you’re upgrading Node.js to version 18 and your old code repository, built using an earlier version of Node.js, is no longer running properly due to changes in the dependencies within the node_modu">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-04-14T10:50:56.000Z">
<meta property="article:modified_time" content="2023-06-06T02:10:06.376Z">
<meta property="article:author" content="WONDERlust91">
<meta property="article:tag" content="npm">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://wonderlust91.github.io/2023/04/14/npm-using-a-higher-version-nodejs-to-run-code-built-by-a-lower-version-nodejs/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://wonderlust91.github.io/2023/04/14/npm-using-a-higher-version-nodejs-to-run-code-built-by-a-lower-version-nodejs/","path":"2023/04/14/npm-using-a-higher-version-nodejs-to-run-code-built-by-a-lower-version-nodejs/","title":"npm - using a higher version nodejs to run code built by a lower version nodejs"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>npm - using a higher version nodejs to run code built by a lower version nodejs | WONDER's Notes</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">WONDER's Notes</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Can%E2%80%99t-Install-Properly"><span class="nav-number">1.</span> <span class="nav-text">Can’t Install Properly</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Can%E2%80%99t-Run-Properly"><span class="nav-number">2.</span> <span class="nav-text">Can’t Run Properly</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Reason-For-The-Error"><span class="nav-number">2.1.</span> <span class="nav-text">Reason For The Error</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Safe-Solution-for-npm-users"><span class="nav-number">2.2.</span> <span class="nav-text">The Safe Solution (for npm users)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Don%E2%80%99t-Want-To-Upgrade-All-Package-Versions"><span class="nav-number">2.3.</span> <span class="nav-text">Don’t Want To Upgrade All Package Versions?</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">WONDERlust91</p>
  <div class="site-description" itemprop="description">又是一个艳阳天</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">144</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">38</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">255</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://wonderlust91.github.io/2023/04/14/npm-using-a-higher-version-nodejs-to-run-code-built-by-a-lower-version-nodejs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="WONDERlust91">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WONDER's Notes">
      <meta itemprop="description" content="又是一个艳阳天">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="npm - using a higher version nodejs to run code built by a lower version nodejs | WONDER's Notes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          npm - using a higher version nodejs to run code built by a lower version nodejs
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-04-14 10:50:56" itemprop="dateCreated datePublished" datetime="2023-04-14T10:50:56+00:00">2023-04-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-06-06 02:10:06" itemprop="dateModified" datetime="2023-06-06T02:10:06+00:00">2023-06-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/npm/" itemprop="url" rel="index"><span itemprop="name">npm</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2023/04/14/npm-using-a-higher-version-nodejs-to-run-code-built-by-a-lower-version-nodejs/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2023/04/14/npm-using-a-higher-version-nodejs-to-run-code-built-by-a-lower-version-nodejs/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>If you’re upgrading Node.js to version 18 and your old code repository, built using an earlier version of Node.js, is no longer running properly due to changes in the dependencies within the node_modules folder, don’t worry. Let’s explore some solutions to fix this problem.</p>
<h2 id="Can’t-Install-Properly"><a href="#Can’t-Install-Properly" class="headerlink" title="Can’t Install Properly"></a>Can’t Install Properly</h2><p>If you’re having trouble running <code>npm install</code> properly, and you have already tried running <code>npm cache clean --force</code>, deleting <code>node_modules</code> folder, <code>package-lock.json</code> file and then running <code>npm install</code> again, but still encounter issues due to dependencies version conflict in the new peer dependencies’ rule. You can try this command instead:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --lagacy-peer-deps</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h2 id="Can’t-Run-Properly"><a href="#Can’t-Run-Properly" class="headerlink" title="Can’t Run Properly"></a>Can’t Run Properly</h2><p>After installing everything, you might still encounter an error when running <code>npm start</code> or <code>npm run serve</code>: <code>Error: error:0308010C:digital envelope routines::unsupported</code>.</p>
<h3 id="Reason-For-The-Error"><a href="#Reason-For-The-Error" class="headerlink" title="Reason For The Error"></a>Reason For The Error</h3><p>In Node.js version 17, the Node.js developers closed a security hole in the SSL provider, which resulted in a breaking change that affected the SSL packages in NPM. If you use SSL in Node.js version 17 or later without upgrading the SSL packages in your package.json, you may encounter this error.</p>
<h3 id="The-Safe-Solution-for-npm-users"><a href="#The-Safe-Solution-for-npm-users" class="headerlink" title="The Safe Solution (for npm users)"></a>The Safe Solution (for npm users)</h3><p>Use an up-to-date version of Node.js and also use packages that are up-to-date with security fixes.</p>
<p>For many people, the following command will fix the issue:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm audit fix --force</span><br></pre></td></tr></table></figure>

<p>However, for complex builds, the above command may pull in breaking security fixes that could potentially break your build.</p>
<h3 id="Don’t-Want-To-Upgrade-All-Package-Versions"><a href="#Don’t-Want-To-Upgrade-All-Package-Versions" class="headerlink" title="Don’t Want To Upgrade All Package Versions?"></a>Don’t Want To Upgrade All Package Versions?</h3><p>You can try one of these:</p>
<ol>
<li><p>Downgrade to Node.js version 16 (Reinstall or use <code>nvm</code>).</p>
</li>
<li><p>Enable the legacy OpenSSL provider.</p>
</li>
</ol>
<p>On Unix-like systems (Linux, macOS, Git bash, etc.), use:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export NODE_OPTIONS=--openssl-legacy-provider</span><br></pre></td></tr></table></figure>

<p>On Windows command prompt, use:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set NODE_OPTIONS=--openssl-legacy-provider</span><br></pre></td></tr></table></figure>

<p>On PowerShell, use:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">env</span>:NODE_OPTIONS = <span class="string">&quot;--openssl-legacy-provider&quot;</span></span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>References</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/69692842/error-message-error0308010cdigital-envelope-routinesunsupported">Error message “error:0308010C:digital envelope routines::unsupported” - stackoverflow</a></p>
</blockquote>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/npm/" rel="tag"># npm</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/03/18/css-position-sticky/" rel="prev" title="css position sticky">
                  <i class="fa fa-chevron-left"></i> css position sticky
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/04/16/css-transition-height-from-0-to-auto/" rel="next" title="css-transition height from 0 to auto">
                  css-transition height from 0 to auto <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">WONDERlust91</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  




<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"wonderlust91","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script>

</body>
</html>
